{"version":3,"sources":["pages/movie/Movie.module.scss","components/menu/Menu.module.scss","components/movieCard/MovieCard.module.scss","pages/homepage/Homepage.module.scss","components/header/Header.module.scss","pages/profile/Profile.module.scss","components/button/Button.module.scss","pages/register/Register.module.scss","pages/login/Login.module.scss","components/checkbox/Checkbox.module.scss","pages/list/List.module.scss","components/heading/Heading.module.scss","components/movieCardSet/MovieCardSet.module.scss","components/tag/Tag.module.scss","components/loader/Loader.module.scss","components/input/Input.module.scss","components/header/Header.js","components/heading/Heading.js","utils/cookies.js","api/api.js","api/genres.js","api/movies.js","api/directors.js","components/movieCard/MovieCard.js","utils/utils.js","components/movieCardSet/MovieCardSet.js","components/tag/Tag.js","components/loader/Loader.js","pages/homepage/Homepage.js","components/input/Input.js","components/button/Button.js","api/user.js","utils/token.js","api/auth.js","pages/profile/Profile.js","api/requests.js","components/checkbox/Checkbox.js","pages/register/Register.js","pages/login/Login.js","pages/list/List.js","pages/movie/Movie.js","components/menu/Menu.js","App.js","index.js"],"names":["module","exports","Header","title","subtitle","type","className","cn","styles","Header__secondary","Header__title","Header__subtitle","Heading","label","setCookie","name","value","options","path","expires","toUTCString","updatedCookie","encodeURIComponent","optionKey","hasOwnProperty","optionValue","document","cookie","getCookie","parts","split","length","pop","shift","deleteCookie","date","Date","setTime","getTime","axios","create","baseURL","headers","Authorization","getGenre","id","API","get","getMovies","query","getDirector","MovieCard","img","rating","year","onClick","window","location","MovieCard__image","src","alt","MovieCard__title","MovieCard__additional","MovieCard__rating","MovieCard__year","getYoutubePreview","url","movieYID","replace","MovieCardSet","movies","limit","sortedArray","slice","map","movie","trailer","Tag","Loader","Homepage","useState","loading","content","genres","setGenres","setMovies","directors","setDirectors","useEffect","a","data","Homepage__movieSet","Homepage__tagSet","genre","Input","placeholder","onChange","Button","Button_type_dark","Button_type_light","getFavorites","tokenChecker","error","accessToken","refreshToken","response","status","console","log","access_token","refresh_token","put","then","res","reload","catch","Profile","setName","surname","setSurname","setGenre","old","new","password","setPassword","email","setEmail","profileUpdater","favourite_genre","Profile__email","Profile__form","e","target","patch","Profile__heading","password_1","password_2","authorization","login","onError","post","message","Checkbox","Path","viewBox","d","Register","setLogin","undefined","errorMsg","setErrorMsg","Register__form","Register__message","Login","Login__form","Login__message","List","useParams","state","setState","filter","Number","director","List__cards","Movie","setMovie","isBookmarked","setIsBookmarked","find","item","getMovie","Cover","Cover__information","Cover__title","Cover__data","Cover__layer","Movie__wrapper","Movie__description","description","Movie__actions","open","movie_id","delete","setFavorites","Movie__selection","Menu","isOpen","setIsOpen","toggleMenu","Menu__button","Menu__panel","Menu__link","to","App","basename","process","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ebaa7a95.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Movie__description\":\"Movie_Movie__description__9mXqO\",\"Movie__actions\":\"Movie_Movie__actions__1nlX3\",\"Movie__wrapper\":\"Movie_Movie__wrapper__1wG0R\",\"Movie__selection\":\"Movie_Movie__selection__1G377\",\"Cover\":\"Movie_Cover__sVq9l\",\"Cover__layer\":\"Movie_Cover__layer__29qGD\",\"Cover__information\":\"Movie_Cover__information__3LWlP\",\"Cover__title\":\"Movie_Cover__title__2GJFQ\",\"Cover__data\":\"Movie_Cover__data__3w3l7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Menu\":\"Menu_Menu__17-8o\",\"Menu__button\":\"Menu_Menu__button__3ZFCr\",\"Menu__panel\":\"Menu_Menu__panel__3MBET\",\"Menu__link\":\"Menu_Menu__link__1L2ZH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieCard\":\"MovieCard_MovieCard__3S1mS\",\"MovieCard__image\":\"MovieCard_MovieCard__image__1-FAR\",\"MovieCard__title\":\"MovieCard_MovieCard__title__34NoT\",\"MovieCard__additional\":\"MovieCard_MovieCard__additional__3Ej-p\",\"MovieCard__rating\":\"MovieCard_MovieCard__rating__15_Ev\",\"MovieCard__year\":\"MovieCard_MovieCard__year__gj4O1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Homepage\":\"Homepage_Homepage__3TLi1\",\"Homepage__movieSet\":\"Homepage_Homepage__movieSet__1GE0P\",\"Homepage__tagSet\":\"Homepage_Homepage__tagSet__3Lopr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__3fgbv\",\"Header__secondary\":\"Header_Header__secondary__2roU9\",\"Header__title\":\"Header_Header__title__8psWv\",\"Header__subtitle\":\"Header_Header__subtitle__1J6oW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"Profile_Profile__2LgHx\",\"Profile__form\":\"Profile_Profile__form__19y2c\",\"Profile__heading\":\"Profile_Profile__heading__2FU3Q\",\"Profile__email\":\"Profile_Profile__email__2Gg3s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__19b7T\",\"Button_type_light\":\"Button_Button_type_light__1EPly\",\"Button_type_dark\":\"Button_Button_type_dark__NpCI4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Register\":\"Register_Register__2KVJm\",\"Register__form\":\"Register_Register__form__1VN4S\",\"Register__message\":\"Register_Register__message__3rn_t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__3J0to\",\"Login__form\":\"Login_Login__form__vpJxX\",\"Login__message\":\"Login_Login__message__1hLQm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Checkbox\":\"Checkbox_Checkbox__1A006\",\"Path\":\"Checkbox_Path__1yR2R\",\"bounce\":\"Checkbox_bounce__mrm2l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"List\":\"List_List__2E-Xi\",\"List__cards\":\"List_List__cards__2ODeW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Heading\":\"Heading_Heading__11_FP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieCardSet\":\"MovieCardSet_MovieCardSet__1WoF9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Tag\":\"Tag_Tag__13-JT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__12gNI\",\"lds-dual-ring\":\"Loader_lds-dual-ring__1z4qc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__eIw_8\"};","import styles from \"./Header.module.scss\";\r\nimport cn from \"classnames\";\r\n\r\nexport const Header = ({ title, subtitle, type }) => {\r\n  return (\r\n    <div className={cn(styles.Header, {[styles.Header__secondary]: type === \"secondary\"})}>\r\n      <div className={styles.Header__title}>{title}</div>\r\n      <div className={styles.Header__subtitle}>{subtitle}</div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Header;","import styles from \"./Heading.module.scss\";\r\n\r\nexport const Heading = ({ label }) => {\r\n  return (\r\n    <div className={styles.Heading}>\r\n      {label}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Heading;","export function setCookie(name, value, options) {\r\n  options = {\r\n    path: '/',\r\n    ...options\r\n  };\r\n\r\n  if (options.expires && options.expires.toUTCString) {\r\n    options.expires = options.expires.toUTCString();\r\n  }\r\n\r\n  let updatedCookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\r\n\r\n  for (const optionKey in options) {\r\n    if (options.hasOwnProperty(optionKey)) {\r\n      updatedCookie += \"; \" + optionKey;\r\n      const optionValue = options[optionKey];\r\n      if (optionValue !== true) {\r\n        updatedCookie += \"=\" + optionValue;\r\n      }\r\n    }\r\n  }\r\n\r\n  document.cookie = updatedCookie\r\n}\r\n\r\nexport function getCookie(name) {\r\n  const value = \"; \" + document.cookie;\r\n  const parts = value.split(\"; \" + name + \"=\");\r\n\r\n  if (parts.length === 2) {\r\n    return parts.pop().split(\";\").shift();\r\n  }\r\n}\r\n\r\nexport function deleteCookie(name) {\r\n  const date = new Date();\r\n  date.setTime(date.getTime() + (-1));\r\n  document.cookie = name+\"=; expires=\"+date.toUTCString()+\"; path=/\";\r\n}","import axios from 'axios';\r\nimport { getCookie } from \"../utils/cookies\";\r\n\r\nexport default axios.create({\r\n  baseURL: `https://skypro-courseproject.herokuapp.com`,\r\n  // withCredentials: true,\r\n  headers: {\r\n    Authorization: \"Bearer \" + getCookie(\"AccessToken\")\r\n  }\r\n});","import API from './api';\r\n\r\nexport const getGenres = () => API.get(`/genres/`);\r\nexport const getGenre = (id) => API.get(`/genres/${id}`);\r\n","import API from './api';\r\n\r\nexport const getMovies = (query) => API.get(`/movies/${query ? \"?\" + query : \"\"}`);\r\nexport const getMovie = (id) => API.get(`/movies/${id}`);\r\n","import API from './api';\r\n\r\nexport const getDirectors = () => API.get(`/directors/`);\r\nexport const getDirector = (id) => API.get(`/directors/${id}`);\r\n","import styles from \"./MovieCard.module.scss\";\r\n\r\nexport const MovieCard = ({ id, img, title, rating, year }) => {\r\n\r\n  const goToMovie = () => {\r\n    window.location = \"/movie/\" + id;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={styles.MovieCard}\r\n      onClick={goToMovie}\r\n    >\r\n      <div className={styles.MovieCard__image}>\r\n        <img src={img} alt=\"Movie Poster\"/>\r\n      </div>\r\n      <div className={styles.MovieCard__title}>{title}</div>\r\n      <div className={styles.MovieCard__additional}>\r\n        <p className={styles.MovieCard__rating}>{rating}</p>\r\n        <p className={styles.MovieCard__year}>{year}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MovieCard;","export const getYoutubePreview = (url) => {\r\n  const movieYID = url.replace(\"https://www.youtube.com/watch?v=\", \"\");\r\n  return `https://img.youtube.com/vi/${movieYID}/0.jpg`;\r\n}","import styles from \"./MovieCardSet.module.scss\";\r\nimport MovieCard from \"../movieCard/MovieCard\";\r\nimport { getYoutubePreview } from \"../../utils/utils\";\r\n\r\nexport const MovieCardSet = ({ movies, limit }) => {\r\n\r\n  const sortedArray = limit ? movies.slice(0, limit) : movies;\r\n\r\n  return (\r\n    <div className={styles.MovieCardSet}>\r\n      {sortedArray.map(movie => (\r\n        <MovieCard\r\n          key={movie.id}\r\n          id={movie.id}\r\n          img={getYoutubePreview(movie.trailer)}\r\n          title={movie.title}\r\n          rating={movie.rating}\r\n          year={movie.year}\r\n        />\r\n      ))}\r\n    </div>\r\n  )\r\n\r\n};\r\n\r\nexport default MovieCardSet;","import styles from \"./Tag.module.scss\";\r\n\r\nexport const Tag = ({ id, label, type }) => {\r\n  return (\r\n    <div\r\n      className={styles.Tag}\r\n      onClick={() => {\r\n        document.location = `/${type}/${id}`\r\n      }}\r\n    >\r\n      {label}\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Tag;","import styles from \"./Loader.module.scss\";\r\n\r\nexport const Loader = () => (\r\n  <div className={styles.Loader} />\r\n);\r\n\r\nexport default Loader;\r\n\r\n","import styles from \"./Homepage.module.scss\"\r\nimport Header from \"../../components/header/Header\";\r\nimport Heading from \"../../components/heading/Heading\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getGenres } from \"../../api/genres\";\r\nimport { getMovies } from \"../../api/movies\";\r\nimport { getDirectors } from \"../../api/directors\";\r\nimport MovieCardSet from \"../../components/movieCardSet/MovieCardSet\";\r\nimport Tag from \"../../components/tag/Tag\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nexport const Homepage = () => {\r\n  const [genres, setGenres] = useState({loading: true, content: []});\r\n  const [movies, setMovies] = useState({loading: true, content: []});\r\n  const [directors, setDirectors] = useState({loading: true, content: []})\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const { data } = await getGenres();\r\n      setGenres({loading: false, content: data});\r\n    })();\r\n\r\n    (async () => {\r\n      const { data } = await getMovies(\"status=new\");\r\n      setMovies({loading: false, content: data});\r\n    })();\r\n\r\n    (async () => {\r\n      const { data } = await getDirectors();\r\n      setDirectors({loading: false, content: data});\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.Homepage}>\r\n      <Header\r\n        title=\"Sky movies\"\r\n        subtitle=\"Кино в кармашке\"\r\n      />\r\n\r\n      <div className={styles.Homepage__movieSet}>\r\n        <Heading label=\"Новинки\"/>\r\n        {movies.loading && <Loader />}\r\n        <MovieCardSet\r\n          movies={movies.content}\r\n          limit={4}\r\n        />\r\n      </div>\r\n\r\n      <div className={styles.Homepage__tagSet}>\r\n        <Heading label=\"Жанры\"/>\r\n        {genres.loading && <Loader />}\r\n        {genres.content.map(genre => (\r\n          <Tag\r\n            key={genre.id}\r\n            id={genre.id}\r\n            label={genre.name}\r\n            type=\"genre\"\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      <div className={styles.Homepage__tagSet}>\r\n        <Heading label=\"Режиссёры\"/>\r\n        {directors.loading && <Loader />}\r\n        {directors.content.map(genre => (\r\n          <Tag\r\n            key={genre.id}\r\n            id={genre.id}\r\n            label={genre.name}\r\n            type=\"director\"\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import styles from \"./Input.module.scss\";\r\n\r\nexport const Input = ({ value, type, placeholder, onChange }) => {\r\n\r\n  return (\r\n    <div className={styles.Input}>\r\n      <input\r\n        type={type}\r\n        value={value}\r\n        placeholder={placeholder}\r\n        onChange={onChange}\r\n      />\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Input;","import styles from \"./Button.module.scss\";\r\nimport cn from \"classnames\";\r\n\r\nexport const Button = ({ type, label, onClick }) => {\r\n  return (\r\n    <button\r\n      className={cn(styles.Button, type === \"dark\" ? styles.Button_type_dark : styles.Button_type_light)}\r\n      onClick={onClick}\r\n    >\r\n      {label}\r\n    </button>\r\n  )\r\n};\r\n\r\nexport default Button;","import API from './api';\r\n\r\nexport const getUser = () => API.get(`/user/`);\r\nexport const updateUser = (data) => API.patch(`/user/`, data);\r\nexport const updateUserPassword = (data) => API.put(`/user/password`, data);\r\n\r\nexport const getFavorites = () => API.get(`/favorites/movies/`);\r\nexport const setFavorites = (movie_id) => API.post(`/favorites/movies/${movie_id}`);\r\nexport const deleteFavorites = (movie_id) => API.delete(`/favorites/movies/${movie_id}`);","import { updateToken } from \"../api/auth\";\r\nimport { getCookie, setCookie } from \"./cookies\";\r\n\r\nexport const tokenChecker = (error) => {\r\n  const accessToken = getCookie(\"AccessToken\");\r\n  const refreshToken = getCookie(\"RefreshToken\");\r\n\r\n  if (error?.response?.status === 401 && accessToken && refreshToken) {\r\n    console.log(\"Trying to refresh token\");\r\n    updateToken({access_token: accessToken, refresh_token: refreshToken})\r\n      .then(res => {\r\n        setCookie(\"AccessToken\", res.data.access_token, { 'max-age': 3600 * 24 * 7 });\r\n        setCookie(\"RefreshToken\", res.data.refresh_token, { 'max-age': 3600 * 24 * 7 });\r\n        document.location.reload();\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Token refresh unsuccessful\", error.response);\r\n        window.location = \"/login\";\r\n      })\r\n  } else {\r\n    console.error(\"No tokens were founded\", error.response);\r\n    window.location = \"/login\";\r\n  }\r\n};\r\n\r\nexport const isTokenExpired = () => {\r\n  console.log(getJWTData().exp, new Date()/1000)\r\n  return getJWTData().exp < new Date()/1000;\r\n};\r\n\r\nexport const getJWTData = () => {\r\n  const token = getCookie(\"AccessToken\");\r\n  const base64Url = token.split('.')[1];\r\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n  const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\r\n    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n  }).join(''));\r\n\r\n  return JSON.parse(jsonPayload);\r\n};","import API from './api';\r\n\r\nexport const authUser = (data) => API.post(`/auth/login`, data);\r\nexport const registerUser = (data) => API.post(`/auth/register`, data);\r\nexport const updateToken = (data) => API.put(`/auth/login`, data);\r\n","import styles from \"./Profile.module.scss\";\r\nimport Header from \"../../components/header/Header\";\r\nimport Input from \"../../components/input/Input\";\r\nimport Button from \"../../components/button/Button\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getUser, updateUser, updateUserPassword } from \"../../api/user\";\r\nimport { tokenChecker } from \"../../utils/token\";\r\n\r\nexport const Profile = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [surname, setSurname] = useState(\"\");\r\n  const [genre, setGenre] = useState(\"\");\r\n  const [password, setPassword] = useState({old: \"\", new: \"\"});\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    getUser()\r\n      .then(res => profileUpdater(res.data))\r\n      .catch(error => tokenChecker(error))\r\n  }, []);\r\n\r\n  const profileUpdater = (data) => {\r\n    setEmail(data.email || \"\");\r\n    setName(data.name || \"\");\r\n    setSurname(data.surname || \"\");\r\n    setGenre(data.favourite_genre || \"\");\r\n  };\r\n\r\n  const submitPasswordChange = () => {\r\n    updateUserPassword( {password_1: password.new, password_2: password.new})\r\n      .then(res => profileUpdater(res.data))\r\n      .catch(error => {\r\n        console.error(error.response);\r\n      })\r\n  };\r\n\r\n  const submitProfileUpdate = () => {\r\n    updateUser({\r\n      ...(name && {name: name}),\r\n      ...(surname && {surname: surname}),\r\n      ...(genre && {favourite_genre: genre}),\r\n    })\r\n      .then()\r\n      .catch(error => {\r\n        console.log(error.response)\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Profile}>\r\n      <Header\r\n        title=\"Мой профиль\"\r\n        subtitle=\"Sky movies\"\r\n        type=\"secondary\"\r\n      />\r\n      <div className={styles.Profile__email}>{email}</div>\r\n\r\n      <div className={styles.Profile__form}>\r\n        <Input\r\n          type=\"text\"\r\n          value={name}\r\n          placeholder=\"Имя\"\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        <Input\r\n          type=\"text\"\r\n          value={surname}\r\n          placeholder=\"Фамилия\"\r\n          onChange={(e) => setSurname(e.target.value)}\r\n        />\r\n\r\n        <Input\r\n          type=\"text\"\r\n          value={genre}\r\n          placeholder=\"Любимый жанр\"\r\n          onChange={(e) => setGenre(e.target.value)}\r\n        />\r\n\r\n        <Button\r\n          label=\"Сохранить\"\r\n          onClick={submitProfileUpdate}\r\n        />\r\n\r\n        <div className={styles.Profile__heading}>Сменить пароль</div>\r\n\r\n        <Input\r\n          type=\"password\"\r\n          value={password.old}\r\n          placeholder=\"Старый пароль\"\r\n          onChange={(e) => setPassword({new: password.new, old: e.target.value})}\r\n        />\r\n\r\n        <Input\r\n          type=\"password\"\r\n          value={password.new}\r\n          placeholder=\"Новый пароль\"\r\n          onChange={(e) => setPassword({new: e.target.value, old: password.old})}\r\n        />\r\n\r\n        <Button\r\n          label=\"Сохранить\"\r\n          onClick={submitPasswordChange}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile;","import { authUser } from \"./auth\";\r\nimport { setCookie } from \"../utils/cookies\";\r\n\r\nexport const authorization = (login, password, onError) => {\r\n  authUser({email: login, password: password})\r\n    .then(res => {\r\n      setCookie(\"AccessToken\", res.data.access_token, { 'max-age': 3600 * 24 * 7 });\r\n      setCookie(\"RefreshToken\", res.data.refresh_token, { 'max-age': 3600 * 24 * 7 });\r\n      window.location = \"/\";\r\n    })\r\n    .catch(error => {\r\n      console.error(error.response?.data?.message);\r\n      onError(error.response?.data?.message);\r\n    });\r\n}","import styles from \"./Checkbox.module.scss\";\r\n\r\nexport const Checkbox = ({ label, onChange }) => {\r\n  return (\r\n    <label className={styles.Checkbox + \" \" + styles.Path}>\r\n      <input onChange={onChange} type=\"checkbox\" />\r\n      <svg viewBox=\"0 0 21 21\">\r\n        <path d=\"M5,10.75 L8.5,14.25 L19.4,2.3 C18.8333333,1.43333333 18.0333333,1 17,1 L4,1 C2.35,1 1,2.35 1,4 L1,17 C1,18.65 2.35,20 4,20 L17,20 C18.65,20 20,18.65 20,17 L20,7.99769186\"/>\r\n      </svg>\r\n      <span>{label}</span>\r\n    </label>\r\n  )\r\n};\r\n\r\nexport default Checkbox;","import styles from \"./Register.module.scss\";\r\nimport { useState } from \"react\";\r\nimport { registerUser } from \"../../api/auth\";\r\nimport { authorization } from \"../../api/requests\";\r\nimport Input from \"../../components/input/Input\";\r\nimport Checkbox from \"../../components/checkbox/Checkbox\";\r\nimport Button from \"../../components/button/Button\";\r\n\r\nexport const Register = () => {\r\n  const [login, setLogin] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMsg, setErrorMsg] = useState(undefined);\r\n\r\n  const submitRegistration = () => {\r\n    registerUser({email: login, password: password})\r\n      .then(() => {\r\n        authorization(login, password, (message) => {\r\n          setErrorMsg(message);\r\n        });\r\n      })\r\n      .catch(error => {\r\n        setErrorMsg([error.response?.data?.message]);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Register}>\r\n      <h1>Регистрация</h1>\r\n      <span>Логин, пароль и вы с нами</span>\r\n\r\n      <div className={styles.Register__form}>\r\n\r\n        {errorMsg &&\r\n          <div className={styles.Register__message}>{errorMsg}</div>\r\n        }\r\n\r\n        <Input\r\n          type=\"text\"\r\n          value={login}\r\n          placeholder=\"Логин\"\r\n          onChange={(e) => {\r\n            setErrorMsg(undefined);\r\n            setLogin(e.target.value);\r\n          }}\r\n        />\r\n\r\n        <Input\r\n          type=\"password\"\r\n          value={password}\r\n          placeholder=\"Пароль\"\r\n          onChange={(e) => {\r\n            setErrorMsg(undefined);\r\n            setPassword(e.target.value);\r\n          }}\r\n        />\r\n\r\n        <Checkbox\r\n          label=\"Запомнить меня\"\r\n        />\r\n\r\n        <Button\r\n          label=\"Регистрация\"\r\n          onClick={submitRegistration}\r\n        />\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;","import styles from \"./Login.module.scss\";\r\nimport { useState } from \"react\";\r\nimport Input from \"../../components/input/Input\";\r\nimport Button from \"../../components/button/Button\";\r\nimport {authorization} from \"../../api/requests\";\r\n\r\nexport const Login = () => {\r\n  const [login, setLogin] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMsg, setErrorMsg] = useState(undefined);\r\n\r\n  const submitLogin = () => {\r\n    authorization(login, password, (message) => {\r\n      setErrorMsg(message);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className={styles.Login}>\r\n      <h1>Войти</h1>\r\n      <span>Помните свой пароль? Забегайте!</span>\r\n\r\n      <div className={styles.Login__form}>\r\n\r\n        {errorMsg &&\r\n          <div className={styles.Login__message}>{errorMsg}</div>\r\n        }\r\n\r\n        <Input\r\n          type=\"text\"\r\n          value={login}\r\n          placeholder=\"Логин\"\r\n          onChange={(e) => {\r\n            setErrorMsg(undefined);\r\n            setLogin(e.target.value);\r\n          }}\r\n        />\r\n\r\n        <Input\r\n          type=\"password\"\r\n          value={password}\r\n          placeholder=\"Пароль\"\r\n          onChange={(e) => {\r\n            setErrorMsg(undefined);\r\n            setPassword(e.target.value);\r\n          }}\r\n        />\r\n\r\n        <Button\r\n          label=\"Войти\"\r\n          onClick={submitLogin}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","import styles from \"./List.module.scss\";\r\nimport { useParams } from 'react-router-dom'\r\nimport { useEffect, useState } from \"react\";\r\nimport { getGenre } from \"../../api/genres\";\r\nimport { getDirector } from \"../../api/directors\";\r\nimport { getFavorites } from \"../../api/user\";\r\nimport Header from \"../../components/header/Header\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport MovieCardSet from \"../../components/movieCardSet/MovieCardSet\";\r\nimport {getMovies} from \"../../api/movies\";\r\n\r\nexport const List = ({ title, type }) => {\r\n  const { id } = useParams();\r\n  const [state, setState] = useState({loading: true, content: []});\r\n  const [movies, setMovies] = useState({loading: true, content: []});\r\n\r\n  useEffect(() => {\r\n    switch (type) {\r\n      case \"genre\":\r\n        (async () => {\r\n          const { data } = await getGenre(id);\r\n          setState({loading: false, content: data})\r\n        })();\r\n        (async () => {\r\n          const { data } = await getMovies();\r\n          setMovies({loading: false, content: data.filter(movie => movie.genre.id === Number(id))});\r\n        })();\r\n        break;\r\n\r\n      case \"director\":\r\n        (async () => {\r\n          const { data } = await getDirector(id);\r\n          setState({loading: false, content: data});\r\n        })();\r\n        (async () => {\r\n          const { data } = await getMovies();\r\n          setMovies({loading: false, content: data.filter(movie => movie.director.id === Number(id))});\r\n        })();\r\n        break;\r\n\r\n      case \"favorites\":\r\n        (async () => {\r\n          const { data } = await getFavorites();\r\n          setMovies({loading: false, content: data});\r\n        })();\r\n        break;\r\n\r\n      default:\r\n        break;\r\n\r\n    }\r\n  }, [id, type]);\r\n\r\n  return (\r\n    <div className={styles.List}>\r\n      <Header\r\n        title={`${title}${state.content.name ? \": \" + state.content.name : \"\"}`}\r\n        subtitle=\"Sky movies\"\r\n        type=\"secondary\"\r\n      />\r\n\r\n      <div className={styles.List__cards}>\r\n        {movies.loading && <Loader />}\r\n        {movies.content.length > 0 &&\r\n          <MovieCardSet movies={movies.content} />\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default List;","import styles from \"./Movie.module.scss\";\r\nimport { useParams } from 'react-router-dom';\r\nimport { useEffect, useState } from \"react\";\r\nimport { getMovies, getMovie } from \"../../api/movies\";\r\nimport { getYoutubePreview } from \"../../utils/utils\";\r\nimport Button from \"../../components/button/Button\";\r\nimport Heading from \"../../components/heading/Heading\";\r\nimport MovieCardSet from \"../../components/movieCardSet/MovieCardSet\";\r\nimport {deleteFavorites, getFavorites, setFavorites} from \"../../api/user\";\r\nimport {tokenChecker} from \"../../utils/token\";\r\n\r\nexport const Movie = () => {\r\n  const [movies, setMovies] = useState({loading: true, content: []});\r\n  const [movie, setMovie] = useState({loading: true, content: {}});\r\n  const [isBookmarked, setIsBookmarked] = useState(false);\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    getFavorites()\r\n      .then(res => {\r\n        if (res.data.find(item => item.id === Number(id))) {\r\n          setIsBookmarked(true);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(error.response);\r\n      })\r\n  }, [id, isBookmarked]);\r\n\r\n  useEffect(() => {\r\n    getMovie(id)\r\n      .then(res => {\r\n        setMovie({loading: false, content: res.data});\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response);\r\n      });\r\n\r\n    getMovies()\r\n      .then(res => {\r\n        setMovies({loading: false, content: res.data});\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response);\r\n      });\r\n  }, [id]);\r\n\r\n  const toggleBookmark = () => {\r\n    isBookmarked ?\r\n      deleteFavorites(id)\r\n        .then(() => {\r\n          setIsBookmarked(false);\r\n        })\r\n        .catch(error => {\r\n          tokenChecker(error);\r\n          console.error(error.response);\r\n        })\r\n      :\r\n      setFavorites(id)\r\n        .then(() => {\r\n          setIsBookmarked(true);\r\n        })\r\n        .catch(error => {\r\n          tokenChecker(error);\r\n          console.error(error.response);\r\n        })\r\n  };\r\n\r\n  return(\r\n    <div className={styles.Movie}>\r\n      <div className={styles.Cover}>\r\n        <div className={styles.Cover__information}>\r\n          <div className={styles.Cover__title}>{movie.content.title}</div>\r\n          <div className={styles.Cover__data}>\r\n            <span>{movie.content.year}</span><span>{movie.content.rating}</span>\r\n          </div>\r\n        </div>\r\n        <div className={styles.Cover__layer} />\r\n        {movie.content.trailer &&\r\n          <img src={getYoutubePreview(movie.content.trailer)} alt=\"Cover\"/>\r\n        }\r\n      </div>\r\n\r\n      <div className={styles.Movie__wrapper}>\r\n        <div className={styles.Movie__description}>\r\n          {movie.content.description}\r\n        </div>\r\n\r\n        <div className={styles.Movie__actions}>\r\n          {movie.content.trailer &&\r\n            <Button\r\n              label=\"Смотреть\"\r\n              type=\"dark\"\r\n              onClick={() => {\r\n                window.open(movie.content.trailer, \"_blank\");\r\n              }}\r\n            />\r\n          }\r\n          <Button\r\n            label={isBookmarked ? \"Удалить из избранного\" : \"Добавить в избранное\"}\r\n            type=\"dark\"\r\n            onClick={toggleBookmark}\r\n          />\r\n        </div>\r\n\r\n        <div className={styles.Movie__selection}>\r\n          <Heading label=\"Похожие фильмы\"/>\r\n          <MovieCardSet\r\n            movies={movies.content.filter(item => item.genre.id === movie.content.genre.id)}\r\n            limit={4}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Movie;","import styles from \"./Menu.module.scss\";\r\nimport { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { deleteCookie, getCookie } from \"../../utils/cookies\";\r\n\r\nexport const Menu = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const toggleMenu = () => {\r\n    setIsOpen(!isOpen);\r\n  }\r\n\r\n  const clearCookies = () => {\r\n    setIsOpen(false);\r\n    deleteCookie(\"AccessToken\");\r\n    deleteCookie(\"RefreshToken\");\r\n  }\r\n\r\n  return (\r\n    <div className={styles.Menu}>\r\n      <div\r\n        className={styles.Menu__button}\r\n        onClick={toggleMenu}\r\n      >\r\n        <span />\r\n      </div>\r\n      {isOpen &&\r\n        <div className={styles.Menu__panel}>\r\n\r\n          <Link\r\n            onClick={toggleMenu}\r\n            className={styles.Menu__link}\r\n            to=\"/\">Главная\r\n          </Link>\r\n\r\n          {getCookie(\"AccessToken\") &&\r\n            <Link\r\n              onClick={toggleMenu}\r\n              className={styles.Menu__link}\r\n              to=\"/profile\">\r\n              Профиль\r\n            </Link>}\r\n\r\n          {getCookie(\"AccessToken\") &&\r\n          <Link\r\n            onClick={toggleMenu}\r\n            className={styles.Menu__link}\r\n            to=\"/favorites\">\r\n            Избранное\r\n          </Link>}\r\n\r\n          {getCookie(\"AccessToken\") &&\r\n            <Link\r\n              onClick={clearCookies}\r\n              className={styles.Menu__link}\r\n              to=\"/login\">\r\n              Выход\r\n            </Link>}\r\n\r\n          {!getCookie(\"AccessToken\") &&\r\n            <Link\r\n              onClick={toggleMenu}\r\n              className={styles.Menu__link}\r\n              to=\"/login\">\r\n              Вход\r\n            </Link>}\r\n\r\n          {!getCookie(\"AccessToken\") &&\r\n            <Link\r\n              onClick={toggleMenu}\r\n              className={styles.Menu__link}\r\n              to=\"/register\">\r\n              Регистрация\r\n            </Link>}\r\n\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Menu;","import './App.scss';\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport { Homepage } from \"./pages/homepage/Homepage\";\nimport Profile from \"./pages/profile/Profile\";\nimport Register from \"./pages/register/Register\";\nimport Login from \"./pages/login/Login\";\nimport List from \"./pages/list/List\";\nimport Movie from \"./pages/movie/Movie\";\nimport Menu from \"./components/menu/Menu\";\n\nfunction App() {\n\n  return (\n    <Router basename={process.env.PUBLIC_URL + \"/skypro_py_stand/\"}>\n      <div className=\"App\">\n        <div className=\"App__wrapper\">\n          <Menu />\n          <Routes>\n            <Route path=\"/\" element={<Homepage />} />\n\n            <Route path=\"/login\" element={<Login />} />\n            <Route path=\"/register\" element={<Register />} />\n\n            <Route path=\"/profile\" element={<Profile />} />\n\n            <Route path=\"/favorites\" element={<List title=\"Избранное\" type=\"favorites\"/>} />\n            <Route path=\"/genre/:id\" element={<List title=\"Жанр\" type=\"genre\" />} />\n            <Route path=\"/director/:id\" element={<List title=\"Режиссер\" type=\"director\" />} />\n            <Route path=\"/playlist/:id\" element={<List title=\"Плейлист\" type=\"playlist\" />} />\n\n            <Route path=\"/movie/:id\" element={<Movie />} />\n          </Routes>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}