{"version":3,"sources":["pages/movie/Movie.module.scss","components/menu/Menu.module.scss","components/movieCard/MovieCard.module.scss","pages/homepage/Homepage.module.scss","components/header/Header.module.scss","pages/profile/Profile.module.scss","components/button/Button.module.scss","pages/register/Register.module.scss","pages/login/Login.module.scss","components/checkbox/Checkbox.module.scss","pages/list/List.module.scss","components/heading/Heading.module.scss","components/movieCardSet/MovieCardSet.module.scss","components/tag/Tag.module.scss","components/loader/Loader.module.scss","components/input/Input.module.scss","components/header/Header.js","components/heading/Heading.js","utils/cookies.js","api/api.js","api/genres.js","api/movies.js","api/directors.js","components/movieCard/MovieCard.js","utils/utils.js","components/movieCardSet/MovieCardSet.js","components/tag/Tag.js","components/loader/Loader.js","pages/homepage/Homepage.js","components/input/Input.js","components/button/Button.js","api/user.js","utils/token.js","api/auth.js","pages/profile/Profile.js","api/requests.js","components/checkbox/Checkbox.js","pages/register/Register.js","pages/login/Login.js","pages/list/List.js","pages/movie/Movie.js","components/menu/Menu.js","App.js","index.js"],"names":["module","exports","Header","title","subtitle","type","className","cn","styles","Header__secondary","Header__title","Header__subtitle","Heading","label","setCookie","name","value","options","path","expires","toUTCString","updatedCookie","encodeURIComponent","optionKey","hasOwnProperty","optionValue","document","cookie","getCookie","parts","split","length","pop","shift","deleteCookie","date","Date","setTime","getTime","axios","create","baseURL","headers","Authorization","getGenre","id","API","get","getMovies","query","getDirector","MovieCard","img","rating","year","to","MovieCard__image","src","alt","MovieCard__title","MovieCard__additional","MovieCard__rating","MovieCard__year","getYoutubePreview","url","movieYID","replace","MovieCardSet","movies","limit","sortedArray","slice","map","movie","trailer","Tag","Loader","Homepage","useState","loading","content","genres","setGenres","setMovies","directors","setDirectors","useEffect","a","data","Homepage__movieSet","Homepage__tagSet","genre","Input","placeholder","onChange","Button","onClick","Button_type_dark","Button_type_light","getFavorites","tokenChecker","error","accessToken","refreshToken","response","status","console","log","access_token","refresh_token","put","then","res","location","reload","catch","window","Profile","setName","surname","setSurname","setGenre","old","new","password","setPassword","email","setEmail","profileUpdater","favourite_genre","Profile__email","Profile__form","e","target","patch","Profile__heading","password_1","password_2","authorization","login","onError","post","message","Checkbox","Path","viewBox","d","Register","setLogin","undefined","errorMsg","setErrorMsg","Register__form","Register__message","Login","Login__form","Login__message","List","useParams","state","setState","filter","Number","director","List__cards","Movie","setMovie","isBookmarked","setIsBookmarked","find","item","getMovie","Cover","Cover__information","Cover__title","Cover__data","Cover__layer","Movie__wrapper","Movie__description","description","Movie__actions","open","movie_id","delete","setFavorites","Movie__selection","Menu","isOpen","setIsOpen","toggleMenu","Menu__button","Menu__panel","Menu__link","App","basename","process","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c2344ca7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Movie__description\":\"Movie_Movie__description__9mXqO\",\"Movie__actions\":\"Movie_Movie__actions__1nlX3\",\"Movie__wrapper\":\"Movie_Movie__wrapper__1wG0R\",\"Movie__selection\":\"Movie_Movie__selection__1G377\",\"Cover\":\"Movie_Cover__sVq9l\",\"Cover__layer\":\"Movie_Cover__layer__29qGD\",\"Cover__information\":\"Movie_Cover__information__3LWlP\",\"Cover__title\":\"Movie_Cover__title__2GJFQ\",\"Cover__data\":\"Movie_Cover__data__3w3l7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Menu\":\"Menu_Menu__17-8o\",\"Menu__button\":\"Menu_Menu__button__3ZFCr\",\"Menu__panel\":\"Menu_Menu__panel__3MBET\",\"Menu__link\":\"Menu_Menu__link__1L2ZH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieCard\":\"MovieCard_MovieCard__3S1mS\",\"MovieCard__image\":\"MovieCard_MovieCard__image__1-FAR\",\"MovieCard__title\":\"MovieCard_MovieCard__title__34NoT\",\"MovieCard__additional\":\"MovieCard_MovieCard__additional__3Ej-p\",\"MovieCard__rating\":\"MovieCard_MovieCard__rating__15_Ev\",\"MovieCard__year\":\"MovieCard_MovieCard__year__gj4O1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Homepage\":\"Homepage_Homepage__3TLi1\",\"Homepage__movieSet\":\"Homepage_Homepage__movieSet__1GE0P\",\"Homepage__tagSet\":\"Homepage_Homepage__tagSet__3Lopr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__3fgbv\",\"Header__secondary\":\"Header_Header__secondary__2roU9\",\"Header__title\":\"Header_Header__title__8psWv\",\"Header__subtitle\":\"Header_Header__subtitle__1J6oW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"Profile_Profile__2LgHx\",\"Profile__form\":\"Profile_Profile__form__19y2c\",\"Profile__heading\":\"Profile_Profile__heading__2FU3Q\",\"Profile__email\":\"Profile_Profile__email__2Gg3s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__19b7T\",\"Button_type_light\":\"Button_Button_type_light__1EPly\",\"Button_type_dark\":\"Button_Button_type_dark__NpCI4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Register\":\"Register_Register__2KVJm\",\"Register__form\":\"Register_Register__form__1VN4S\",\"Register__message\":\"Register_Register__message__3rn_t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__3J0to\",\"Login__form\":\"Login_Login__form__vpJxX\",\"Login__message\":\"Login_Login__message__1hLQm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Checkbox\":\"Checkbox_Checkbox__1A006\",\"Path\":\"Checkbox_Path__1yR2R\",\"bounce\":\"Checkbox_bounce__mrm2l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"List\":\"List_List__2E-Xi\",\"List__cards\":\"List_List__cards__2ODeW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Heading\":\"Heading_Heading__11_FP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieCardSet\":\"MovieCardSet_MovieCardSet__1WoF9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Tag\":\"Tag_Tag__13-JT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__12gNI\",\"lds-dual-ring\":\"Loader_lds-dual-ring__1z4qc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__eIw_8\"};","import styles from \"./Header.module.scss\";\r\nimport cn from \"classnames\";\r\n\r\nexport const Header = ({ title, subtitle, type }) => {\r\n  return (\r\n    <div className={cn(styles.Header, {[styles.Header__secondary]: type === \"secondary\"})}>\r\n      <div className={styles.Header__title}>{title}</div>\r\n      <div className={styles.Header__subtitle}>{subtitle}</div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Header;","import styles from \"./Heading.module.scss\";\r\n\r\nexport const Heading = ({ label }) => {\r\n  return (\r\n    <div className={styles.Heading}>\r\n      {label}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Heading;","export function setCookie(name, value, options) {\r\n  options = {\r\n    path: '/',\r\n    ...options\r\n  };\r\n\r\n  if (options.expires && options.expires.toUTCString) {\r\n    options.expires = options.expires.toUTCString();\r\n  }\r\n\r\n  let updatedCookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\r\n\r\n  for (const optionKey in options) {\r\n    if (options.hasOwnProperty(optionKey)) {\r\n      updatedCookie += \"; \" + optionKey;\r\n      const optionValue = options[optionKey];\r\n      if (optionValue !== true) {\r\n        updatedCookie += \"=\" + optionValue;\r\n      }\r\n    }\r\n  }\r\n\r\n  document.cookie = updatedCookie\r\n}\r\n\r\nexport function getCookie(name) {\r\n  const value = \"; \" + document.cookie;\r\n  const parts = value.split(\"; \" + name + \"=\");\r\n\r\n  if (parts.length === 2) {\r\n    return parts.pop().split(\";\").shift();\r\n  }\r\n}\r\n\r\nexport function deleteCookie(name) {\r\n  const date = new Date();\r\n  date.setTime(date.getTime() + (-1));\r\n  document.cookie = name+\"=; expires=\"+date.toUTCString()+\"; path=/\";\r\n}","import axios from 'axios';\r\nimport { getCookie } from \"../utils/cookies\";\r\n\r\nexport default axios.create({\r\n  baseURL: `https://skypro-courseproject.herokuapp.com`,\r\n  // withCredentials: true,\r\n  headers: {\r\n    Authorization: \"Bearer \" + getCookie(\"AccessToken\")\r\n  }\r\n});","import API from './api';\r\n\r\nexport const getGenres = () => API.get(`/genres/`);\r\nexport const getGenre = (id) => API.get(`/genres/${id}`);\r\n","import API from './api';\r\n\r\nexport const getMovies = (query) => API.get(`/movies/${query ? \"?\" + query : \"\"}`);\r\nexport const getMovie = (id) => API.get(`/movies/${id}`);\r\n","import API from './api';\r\n\r\nexport const getDirectors = () => API.get(`/directors/`);\r\nexport const getDirector = (id) => API.get(`/directors/${id}`);\r\n","import styles from \"./MovieCard.module.scss\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const MovieCard = ({ id, img, title, rating, year }) => {\r\n\r\n  return (\r\n    <Link\r\n      className={styles.MovieCard}\r\n      to={\"/movie/\" + id}\r\n    >\r\n      <div className={styles.MovieCard__image}>\r\n        <img src={img} alt=\"Movie Poster\"/>\r\n      </div>\r\n      <div className={styles.MovieCard__title}>{title}</div>\r\n      <div className={styles.MovieCard__additional}>\r\n        <p className={styles.MovieCard__rating}>{rating}</p>\r\n        <p className={styles.MovieCard__year}>{year}</p>\r\n      </div>\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default MovieCard;","export const getYoutubePreview = (url) => {\r\n  const movieYID = url.replace(\"https://www.youtube.com/watch?v=\", \"\");\r\n  return `https://img.youtube.com/vi/${movieYID}/0.jpg`;\r\n}","import styles from \"./MovieCardSet.module.scss\";\r\nimport MovieCard from \"../movieCard/MovieCard\";\r\nimport { getYoutubePreview } from \"../../utils/utils\";\r\n\r\nexport const MovieCardSet = ({ movies, limit }) => {\r\n\r\n  const sortedArray = limit ? movies.slice(0, limit) : movies;\r\n\r\n  return (\r\n    <div className={styles.MovieCardSet}>\r\n      {sortedArray.map(movie => (\r\n        <MovieCard\r\n          key={movie.id}\r\n          id={movie.id}\r\n          img={getYoutubePreview(movie.trailer)}\r\n          title={movie.title}\r\n          rating={movie.rating}\r\n          year={movie.year}\r\n        />\r\n      ))}\r\n    </div>\r\n  )\r\n\r\n};\r\n\r\nexport default MovieCardSet;","import styles from \"./Tag.module.scss\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const Tag = ({ id, label, type }) => {\r\n  return (\r\n    <Link\r\n      className={styles.Tag}\r\n      to={`/${type}/${id}`}\r\n    >\r\n      {label}\r\n    </Link>\r\n  )\r\n\r\n}\r\n\r\nexport default Tag;","import styles from \"./Loader.module.scss\";\r\n\r\nexport const Loader = () => (\r\n  <div className={styles.Loader} />\r\n);\r\n\r\nexport default Loader;\r\n\r\n","import styles from \"./Homepage.module.scss\"\r\nimport Header from \"../../components/header/Header\";\r\nimport Heading from \"../../components/heading/Heading\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getGenres } from \"../../api/genres\";\r\nimport { getMovies } from \"../../api/movies\";\r\nimport { getDirectors } from \"../../api/directors\";\r\nimport MovieCardSet from \"../../components/movieCardSet/MovieCardSet\";\r\nimport Tag from \"../../components/tag/Tag\";\r\nimport Loader from \"../../components/loader/Loader\";\r\n\r\nexport const Homepage = () => {\r\n  const [genres, setGenres] = useState({loading: true, content: []});\r\n  const [movies, setMovies] = useState({loading: true, content: []});\r\n  const [directors, setDirectors] = useState({loading: true, content: []})\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const { data } = await getGenres();\r\n      setGenres({loading: false, content: data});\r\n    })();\r\n\r\n    (async () => {\r\n      const { data } = await getMovies(\"status=new\");\r\n      setMovies({loading: false, content: data});\r\n    })();\r\n\r\n    (async () => {\r\n      const { data } = await getDirectors();\r\n      setDirectors({loading: false, content: data});\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.Homepage}>\r\n      <Header\r\n        title=\"Sky movies\"\r\n        subtitle=\"Кино в кармашке\"\r\n      />\r\n\r\n      <div className={styles.Homepage__movieSet}>\r\n        <Heading label=\"Новинки\"/>\r\n        {movies.loading && <Loader />}\r\n        <MovieCardSet\r\n          movies={movies.content}\r\n          limit={4}\r\n        />\r\n      </div>\r\n\r\n      <div className={styles.Homepage__tagSet}>\r\n        <Heading label=\"Жанры\"/>\r\n        {genres.loading && <Loader />}\r\n        {genres.content.map(genre => (\r\n          <Tag\r\n            key={genre.id}\r\n            id={genre.id}\r\n            label={genre.name}\r\n            type=\"genre\"\r\n          />\r\n        ))}\r\n      </div>\r\n\r\n      <div className={styles.Homepage__tagSet}>\r\n        <Heading label=\"Режиссёры\"/>\r\n        {directors.loading && <Loader />}\r\n        {directors.content.map(genre => (\r\n          <Tag\r\n            key={genre.id}\r\n            id={genre.id}\r\n            label={genre.name}\r\n            type=\"director\"\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import styles from \"./Input.module.scss\";\r\n\r\nexport const Input = ({ value, type, placeholder, onChange }) => {\r\n\r\n  return (\r\n    <div className={styles.Input}>\r\n      <input\r\n        type={type}\r\n        value={value}\r\n        placeholder={placeholder}\r\n        onChange={onChange}\r\n      />\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Input;","import styles from \"./Button.module.scss\";\r\nimport cn from \"classnames\";\r\n\r\nexport const Button = ({ type, label, onClick }) => {\r\n  return (\r\n    <button\r\n      className={cn(styles.Button, type === \"dark\" ? styles.Button_type_dark : styles.Button_type_light)}\r\n      onClick={onClick}\r\n    >\r\n      {label}\r\n    </button>\r\n  )\r\n};\r\n\r\nexport default Button;","import API from './api';\r\n\r\nexport const getUser = () => API.get(`/user/`);\r\nexport const updateUser = (data) => API.patch(`/user/`, data);\r\nexport const updateUserPassword = (data) => API.put(`/user/password`, data);\r\n\r\nexport const getFavorites = () => API.get(`/favorites/movies/`);\r\nexport const setFavorites = (movie_id) => API.post(`/favorites/movies/${movie_id}`);\r\nexport const deleteFavorites = (movie_id) => API.delete(`/favorites/movies/${movie_id}`);","import { updateToken } from \"../api/auth\";\r\nimport { getCookie, setCookie } from \"./cookies\";\r\n\r\nexport const tokenChecker = (error) => {\r\n  const accessToken = getCookie(\"AccessToken\");\r\n  const refreshToken = getCookie(\"RefreshToken\");\r\n\r\n  if (error?.response?.status === 401 && accessToken && refreshToken) {\r\n    console.log(\"Trying to refresh token\");\r\n    updateToken({access_token: accessToken, refresh_token: refreshToken})\r\n      .then(res => {\r\n        setCookie(\"AccessToken\", res.data.access_token, { 'max-age': 3600 * 24 * 7 });\r\n        setCookie(\"RefreshToken\", res.data.refresh_token, { 'max-age': 3600 * 24 * 7 });\r\n        document.location.reload();\r\n      })\r\n      .catch(error => {\r\n        console.error(\"Token refresh unsuccessful\", error.response);\r\n        window.location = \"/login\";\r\n      })\r\n  } else {\r\n    console.error(\"No tokens were founded\", error.response);\r\n    window.location = \"/login\";\r\n  }\r\n};\r\n\r\nexport const isTokenExpired = () => {\r\n  console.log(getJWTData().exp, new Date()/1000)\r\n  return getJWTData().exp < new Date()/1000;\r\n};\r\n\r\nexport const getJWTData = () => {\r\n  const token = getCookie(\"AccessToken\");\r\n  const base64Url = token.split('.')[1];\r\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n  const jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {\r\n    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n  }).join(''));\r\n\r\n  return JSON.parse(jsonPayload);\r\n};","import API from './api';\r\n\r\nexport const authUser = (data) => API.post(`/auth/login`, data);\r\nexport const registerUser = (data) => API.post(`/auth/register`, data);\r\nexport const updateToken = (data) => API.put(`/auth/login`, data);\r\n","import styles from \"./Profile.module.scss\";\r\nimport Header from \"../../components/header/Header\";\r\nimport Input from \"../../components/input/Input\";\r\nimport Button from \"../../components/button/Button\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getUser, updateUser, updateUserPassword } from \"../../api/user\";\r\nimport { tokenChecker } from \"../../utils/token\";\r\n\r\nexport const Profile = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [surname, setSurname] = useState(\"\");\r\n  const [genre, setGenre] = useState(\"\");\r\n  const [password, setPassword] = useState({old: \"\", new: \"\"});\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    getUser()\r\n      .then(res => profileUpdater(res.data))\r\n      .catch(error => tokenChecker(error))\r\n  }, []);\r\n\r\n  const profileUpdater = (data) => {\r\n    setEmail(data.email || \"\");\r\n    setName(data.name || \"\");\r\n    setSurname(data.surname || \"\");\r\n    setGenre(data.favourite_genre || \"\");\r\n  };\r\n\r\n  const submitPasswordChange = () => {\r\n    updateUserPassword( {password_1: password.new, password_2: password.new})\r\n      .then(res => profileUpdater(res.data))\r\n      .catch(error => {\r\n        console.error(error.response);\r\n      })\r\n  };\r\n\r\n  const submitProfileUpdate = () => {\r\n    updateUser({\r\n      ...(name && {name: name}),\r\n      ...(surname && {surname: surname}),\r\n      ...(genre && {favourite_genre: genre}),\r\n    })\r\n      .then()\r\n      .catch(error => {\r\n        console.log(error.response)\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Profile}>\r\n      <Header\r\n        title=\"Мой профиль\"\r\n        subtitle=\"Sky movies\"\r\n        type=\"secondary\"\r\n      />\r\n      <div className={styles.Profile__email}>{email}</div>\r\n\r\n      <div className={styles.Profile__form}>\r\n        <Input\r\n          type=\"text\"\r\n          value={name}\r\n          placeholder=\"Имя\"\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        <Input\r\n          type=\"text\"\r\n          value={surname}\r\n          placeholder=\"Фамилия\"\r\n          onChange={(e) => setSurname(e.target.value)}\r\n        />\r\n\r\n        <Input\r\n          type=\"text\"\r\n          value={genre}\r\n          placeholder=\"Любимый жанр\"\r\n          onChange={(e) => setGenre(e.target.value)}\r\n        />\r\n\r\n        <Button\r\n          label=\"Сохранить\"\r\n          onClick={submitProfileUpdate}\r\n        />\r\n\r\n        <div className={styles.Profile__heading}>Сменить пароль</div>\r\n\r\n        <Input\r\n          type=\"password\"\r\n          value={password.old}\r\n          placeholder=\"Старый пароль\"\r\n          onChange={(e) => setPassword({new: password.new, old: e.target.value})}\r\n        />\r\n\r\n        <Input\r\n          type=\"password\"\r\n          value={password.new}\r\n          placeholder=\"Новый пароль\"\r\n          onChange={(e) => setPassword({new: e.target.value, old: password.old})}\r\n        />\r\n\r\n        <Button\r\n          label=\"Сохранить\"\r\n          onClick={submitPasswordChange}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Profile;","import { authUser } from \"./auth\";\r\nimport { setCookie } from \"../utils/cookies\";\r\n\r\nexport const authorization = (login, password, onError) => {\r\n  authUser({email: login, password: password})\r\n    .then(res => {\r\n      setCookie(\"AccessToken\", res.data.access_token, { 'max-age': 3600 * 24 * 7 });\r\n      setCookie(\"RefreshToken\", res.data.refresh_token, { 'max-age': 3600 * 24 * 7 });\r\n      window.location = \"/\";\r\n    })\r\n    .catch(error => {\r\n      console.error(error.response?.data?.message);\r\n      onError(error.response?.data?.message);\r\n    });\r\n}","import styles from \"./Checkbox.module.scss\";\r\n\r\nexport const Checkbox = ({ label, onChange }) => {\r\n  return (\r\n    <label className={styles.Checkbox + \" \" + styles.Path}>\r\n      <input onChange={onChange} type=\"checkbox\" />\r\n      <svg viewBox=\"0 0 21 21\">\r\n        <path d=\"M5,10.75 L8.5,14.25 L19.4,2.3 C18.8333333,1.43333333 18.0333333,1 17,1 L4,1 C2.35,1 1,2.35 1,4 L1,17 C1,18.65 2.35,20 4,20 L17,20 C18.65,20 20,18.65 20,17 L20,7.99769186\"/>\r\n      </svg>\r\n      <span>{label}</span>\r\n    </label>\r\n  )\r\n};\r\n\r\nexport default Checkbox;","import styles from \"./Register.module.scss\";\r\nimport { useState } from \"react\";\r\nimport { registerUser } from \"../../api/auth\";\r\nimport { authorization } from \"../../api/requests\";\r\nimport Input from \"../../components/input/Input\";\r\nimport Checkbox from \"../../components/checkbox/Checkbox\";\r\nimport Button from \"../../components/button/Button\";\r\n\r\nexport const Register = () => {\r\n  const [login, setLogin] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMsg, setErrorMsg] = useState(undefined);\r\n\r\n  const submitRegistration = () => {\r\n    registerUser({email: login, password: password})\r\n      .then(() => {\r\n        authorization(login, password, (message) => {\r\n          setErrorMsg(message);\r\n        });\r\n      })\r\n      .catch(error => {\r\n        setErrorMsg([error.response?.data?.message]);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Register}>\r\n      <h1>Регистрация</h1>\r\n      <span>Логин, пароль и вы с нами</span>\r\n\r\n      <div className={styles.Register__form}>\r\n\r\n        {errorMsg &&\r\n          <div className={styles.Register__message}>{errorMsg}</div>\r\n        }\r\n\r\n        <Input\r\n          type=\"text\"\r\n          value={login}\r\n          placeholder=\"Логин\"\r\n          onChange={(e) => {\r\n            setErrorMsg(undefined);\r\n            setLogin(e.target.value);\r\n          }}\r\n        />\r\n\r\n        <Input\r\n          type=\"password\"\r\n          value={password}\r\n          placeholder=\"Пароль\"\r\n          onChange={(e) => {\r\n            setErrorMsg(undefined);\r\n            setPassword(e.target.value);\r\n          }}\r\n        />\r\n\r\n        <Checkbox\r\n          label=\"Запомнить меня\"\r\n        />\r\n\r\n        <Button\r\n          label=\"Регистрация\"\r\n          onClick={submitRegistration}\r\n        />\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Register;","import styles from \"./Login.module.scss\";\r\nimport { useState } from \"react\";\r\nimport Input from \"../../components/input/Input\";\r\nimport Button from \"../../components/button/Button\";\r\nimport {authorization} from \"../../api/requests\";\r\n\r\nexport const Login = () => {\r\n  const [login, setLogin] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errorMsg, setErrorMsg] = useState(undefined);\r\n\r\n  const submitLogin = () => {\r\n    authorization(login, password, (message) => {\r\n      setErrorMsg(message);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className={styles.Login}>\r\n      <h1>Войти</h1>\r\n      <span>Помните свой пароль? Забегайте!</span>\r\n\r\n      <div className={styles.Login__form}>\r\n\r\n        {errorMsg &&\r\n          <div className={styles.Login__message}>{errorMsg}</div>\r\n        }\r\n\r\n        <Input\r\n          type=\"text\"\r\n          value={login}\r\n          placeholder=\"Логин\"\r\n          onChange={(e) => {\r\n            setErrorMsg(undefined);\r\n            setLogin(e.target.value);\r\n          }}\r\n        />\r\n\r\n        <Input\r\n          type=\"password\"\r\n          value={password}\r\n          placeholder=\"Пароль\"\r\n          onChange={(e) => {\r\n            setErrorMsg(undefined);\r\n            setPassword(e.target.value);\r\n          }}\r\n        />\r\n\r\n        <Button\r\n          label=\"Войти\"\r\n          onClick={submitLogin}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","import styles from \"./List.module.scss\";\r\nimport { useParams } from 'react-router-dom'\r\nimport { useEffect, useState } from \"react\";\r\nimport { getGenre } from \"../../api/genres\";\r\nimport { getDirector } from \"../../api/directors\";\r\nimport { getFavorites } from \"../../api/user\";\r\nimport Header from \"../../components/header/Header\";\r\nimport Loader from \"../../components/loader/Loader\";\r\nimport MovieCardSet from \"../../components/movieCardSet/MovieCardSet\";\r\nimport {getMovies} from \"../../api/movies\";\r\n\r\nexport const List = ({ title, type }) => {\r\n  const { id } = useParams();\r\n  const [state, setState] = useState({loading: true, content: []});\r\n  const [movies, setMovies] = useState({loading: true, content: []});\r\n\r\n  useEffect(() => {\r\n    switch (type) {\r\n      case \"genre\":\r\n        (async () => {\r\n          const { data } = await getGenre(id);\r\n          setState({loading: false, content: data})\r\n        })();\r\n        (async () => {\r\n          const { data } = await getMovies();\r\n          setMovies({loading: false, content: data.filter(movie => movie.genre.id === Number(id))});\r\n        })();\r\n        break;\r\n\r\n      case \"director\":\r\n        (async () => {\r\n          const { data } = await getDirector(id);\r\n          setState({loading: false, content: data});\r\n        })();\r\n        (async () => {\r\n          const { data } = await getMovies();\r\n          setMovies({loading: false, content: data.filter(movie => movie.director.id === Number(id))});\r\n        })();\r\n        break;\r\n\r\n      case \"favorites\":\r\n        (async () => {\r\n          const { data } = await getFavorites();\r\n          setMovies({loading: false, content: data});\r\n        })();\r\n        break;\r\n\r\n      default:\r\n        break;\r\n\r\n    }\r\n  }, [id, type]);\r\n\r\n  return (\r\n    <div className={styles.List}>\r\n      <Header\r\n        title={`${title}${state.content.name ? \": \" + state.content.name : \"\"}`}\r\n        subtitle=\"Sky movies\"\r\n        type=\"secondary\"\r\n      />\r\n\r\n      <div className={styles.List__cards}>\r\n        {movies.loading && <Loader />}\r\n        {movies.content.length > 0 &&\r\n          <MovieCardSet movies={movies.content} />\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default List;","import styles from \"./Movie.module.scss\";\r\nimport { useParams } from 'react-router-dom';\r\nimport { useEffect, useState } from \"react\";\r\nimport { getMovies, getMovie } from \"../../api/movies\";\r\nimport { getYoutubePreview } from \"../../utils/utils\";\r\nimport Button from \"../../components/button/Button\";\r\nimport Heading from \"../../components/heading/Heading\";\r\nimport MovieCardSet from \"../../components/movieCardSet/MovieCardSet\";\r\nimport {deleteFavorites, getFavorites, setFavorites} from \"../../api/user\";\r\nimport {tokenChecker} from \"../../utils/token\";\r\n\r\nexport const Movie = () => {\r\n  const [movies, setMovies] = useState({loading: true, content: []});\r\n  const [movie, setMovie] = useState({loading: true, content: {}});\r\n  const [isBookmarked, setIsBookmarked] = useState(false);\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    getFavorites()\r\n      .then(res => {\r\n        if (res.data.find(item => item.id === Number(id))) {\r\n          setIsBookmarked(true);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error(error.response);\r\n      })\r\n  }, [id, isBookmarked]);\r\n\r\n  useEffect(() => {\r\n    getMovie(id)\r\n      .then(res => {\r\n        setMovie({loading: false, content: res.data});\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response);\r\n      });\r\n\r\n    getMovies()\r\n      .then(res => {\r\n        setMovies({loading: false, content: res.data});\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response);\r\n      });\r\n  }, [id]);\r\n\r\n  const toggleBookmark = () => {\r\n    isBookmarked ?\r\n      deleteFavorites(id)\r\n        .then(() => {\r\n          setIsBookmarked(false);\r\n        })\r\n        .catch(error => {\r\n          tokenChecker(error);\r\n          console.error(error.response);\r\n        })\r\n      :\r\n      setFavorites(id)\r\n        .then(() => {\r\n          setIsBookmarked(true);\r\n        })\r\n        .catch(error => {\r\n          tokenChecker(error);\r\n          console.error(error.response);\r\n        })\r\n  };\r\n\r\n  return(\r\n    <div className={styles.Movie}>\r\n      <div className={styles.Cover}>\r\n        <div className={styles.Cover__information}>\r\n          <div className={styles.Cover__title}>{movie.content.title}</div>\r\n          <div className={styles.Cover__data}>\r\n            <span>{movie.content.year}</span><span>{movie.content.rating}</span>\r\n          </div>\r\n        </div>\r\n        <div className={styles.Cover__layer} />\r\n        {movie.content.trailer &&\r\n          <img src={getYoutubePreview(movie.content.trailer)} alt=\"Cover\"/>\r\n        }\r\n      </div>\r\n\r\n      <div className={styles.Movie__wrapper}>\r\n        <div className={styles.Movie__description}>\r\n          {movie.content.description}\r\n        </div>\r\n\r\n        <div className={styles.Movie__actions}>\r\n          {movie.content.trailer &&\r\n            <Button\r\n              label=\"Смотреть\"\r\n              type=\"dark\"\r\n              onClick={() => {\r\n                window.open(movie.content.trailer, \"_blank\");\r\n              }}\r\n            />\r\n          }\r\n          <Button\r\n            label={isBookmarked ? \"Удалить из избранного\" : \"Добавить в избранное\"}\r\n            type=\"dark\"\r\n            onClick={toggleBookmark}\r\n          />\r\n        </div>\r\n\r\n        <div className={styles.Movie__selection}>\r\n          <Heading label=\"Похожие фильмы\"/>\r\n          <MovieCardSet\r\n            movies={movies.content.filter(item => item.genre.id === movie.content.genre.id)}\r\n            limit={4}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Movie;","import styles from \"./Menu.module.scss\";\r\nimport { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { deleteCookie, getCookie } from \"../../utils/cookies\";\r\n\r\nexport const Menu = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const toggleMenu = () => {\r\n    setIsOpen(!isOpen);\r\n  }\r\n\r\n  const clearCookies = () => {\r\n    setIsOpen(false);\r\n    deleteCookie(\"AccessToken\");\r\n    deleteCookie(\"RefreshToken\");\r\n  }\r\n\r\n  return (\r\n    <div className={styles.Menu}>\r\n      <div\r\n        className={styles.Menu__button}\r\n        onClick={toggleMenu}\r\n      >\r\n        <span />\r\n      </div>\r\n      {isOpen &&\r\n        <div className={styles.Menu__panel}>\r\n\r\n          <Link\r\n            onClick={toggleMenu}\r\n            className={styles.Menu__link}\r\n            to=\"/\">Главная\r\n          </Link>\r\n\r\n          {getCookie(\"AccessToken\") &&\r\n            <Link\r\n              onClick={toggleMenu}\r\n              className={styles.Menu__link}\r\n              to=\"/profile\">\r\n              Профиль\r\n            </Link>}\r\n\r\n          {getCookie(\"AccessToken\") &&\r\n          <Link\r\n            onClick={toggleMenu}\r\n            className={styles.Menu__link}\r\n            to=\"/favorites\">\r\n            Избранное\r\n          </Link>}\r\n\r\n          {getCookie(\"AccessToken\") &&\r\n            <Link\r\n              onClick={clearCookies}\r\n              className={styles.Menu__link}\r\n              to=\"/login\">\r\n              Выход\r\n            </Link>}\r\n\r\n          {!getCookie(\"AccessToken\") &&\r\n            <Link\r\n              onClick={toggleMenu}\r\n              className={styles.Menu__link}\r\n              to=\"/login\">\r\n              Вход\r\n            </Link>}\r\n\r\n          {!getCookie(\"AccessToken\") &&\r\n            <Link\r\n              onClick={toggleMenu}\r\n              className={styles.Menu__link}\r\n              to=\"/register\">\r\n              Регистрация\r\n            </Link>}\r\n\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Menu;","import './App.scss';\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport { Homepage } from \"./pages/homepage/Homepage\";\nimport Profile from \"./pages/profile/Profile\";\nimport Register from \"./pages/register/Register\";\nimport Login from \"./pages/login/Login\";\nimport List from \"./pages/list/List\";\nimport Movie from \"./pages/movie/Movie\";\nimport Menu from \"./components/menu/Menu\";\n\nfunction App() {\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <div className=\"App\">\n        <div className=\"App__wrapper\">\n          <Menu />\n          <Routes>\n            <Route path=\"/\" element={<Homepage />} />\n\n            <Route path=\"/login\" element={<Login />} />\n            <Route path=\"/register\" element={<Register />} />\n\n            <Route path=\"/profile\" element={<Profile />} />\n\n            <Route path=\"/favorites\" element={<List title=\"Избранное\" type=\"favorites\"/>} />\n            <Route path=\"/genre/:id\" element={<List title=\"Жанр\" type=\"genre\" />} />\n            <Route path=\"/director/:id\" element={<List title=\"Режиссер\" type=\"director\" />} />\n            <Route path=\"/playlist/:id\" element={<List title=\"Плейлист\" type=\"playlist\" />} />\n\n            <Route path=\"/movie/:id\" element={<Movie />} />\n          </Routes>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}